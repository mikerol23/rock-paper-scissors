<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="container">
      <button id="rock" class="btn">Rock</button>
      <button id="paper" class="btn">Paper</button>
      <button id="scissors" class="btn">Scissors</button>
    </div>
    <div>
      <h2 id="result">Rock Paper Scissors</h2>
      <h3>Moves</h3>
      <h4>
        You:
        <div id="player-move"></div>
      </h4>

      <h4>
        Computer:
        <div id="comp-move"></div>
      </h4>
    </div>
    <div>
      <h3>Score</h3>
      <h4>
        You:
        <div id="player-score">0</div>
      </h4>
      <h4>
        Computer:
        <div id="comp-score">0</div>
      </h4>
    </div>

    <script>
      let compScore = 0;
      let playerScore = 0;

      const moves = ["rock", "paper", "scissors"];

      const buttons = document.querySelectorAll("button");
      buttons.forEach((button) => {
        button.addEventListener("click", playRound);
      });

      function playRound(playerMove, compMove) {
        function compChoice() {
          return moves[Math.floor(Math.random() * moves.length)];
        }

        compMove = compChoice();
        playerMove = this.id;

        document.getElementById("player-move").textContent = `${playerMove}`;
        document.getElementById("comp-move").textContent = `${compMove}`;

        if (playerMove === "rock") {
          switch (compMove) {
            case "scissors":
              playerWin();
              break;
            case "paper":
              compWin();
              break;
            case "rock":
              tie();
          }
        } else if (playerMove === "paper") {
          switch (compMove) {
            case "rock":
              playerWin();
              break;
            case "scissors":
              compWin();
              break;
            case "rock":
              tie();
          }
        } else if (playerMove === "scissors") {
          switch (compMove) {
            case "paper":
              playerWin();
              break;
            case "rock":
              compWin();
              break;
            case "scissors":
              tie();
          }
        }

        function compWin() {
          compScore += 1;
          if (compScore === 5) {
            document.getElementById("result").textContent =
              "The computer has 5 points- you lose the game.";
          } else {
            document.getElementById("result").textContent =
              "Better luck next time...";
          }
        }
        function playerWin() {
          playerScore += 1;
          if (playerScore === 5) {
            document.getElementById("result").textContent =
              "That's 5 points- you win the game!";
          } else {
            document.getElementById("result").textContent = "Winner!";
          }
        }

        function tie() {
          document.getElementById("result").textContent =
            "It's a tie! The scores remain...";
        }
        document.getElementById("player-score").textContent = `${playerScore}`;
        document.getElementById("comp-score").textContent = `${compScore}`;
      }
    </script>
  </body>
</html>
